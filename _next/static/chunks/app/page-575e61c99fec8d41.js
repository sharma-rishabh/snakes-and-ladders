(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1311:(t,e,i)=>{Promise.resolve().then(i.bind(i,7231))},7231:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>w});var s=i(5155),r=i(2115);class a{getNewPosition(t){for(let e of this.porters)if(e.start===t)return e.end;return t}getNextPlayerIndex(t){return 0===t?1:0}getCurrentPlayer(){return this.players.find(t=>t.isPlaying)}updateCurrentPlayer(){let t=this.getCurrentPlayer(),e=this.players.findIndex(t=>t.isPlaying),i=this.getNextPlayerIndex(e);return t.isPlaying=!1,this.players[i].isPlaying=!0,this.players}isFirstMove(t){return -1===t.position}canMakeFirstMove(t){return 1===t||6===t}handleFirstMove(t,e){return this.canMakeFirstMove(e)&&(t.position=0),t}isOutOfBoard(t){return t>99}isGameOver(t){return 99===t.position}movePlayer(t){let e=this.getCurrentPlayer();if(this.isFirstMove(e))return this.handleFirstMove(e,t),this.players;let i=this.getNewPosition(e.position+t);return this.isOutOfBoard(i)||(e.position=i,this.gameOver=this.isGameOver(e)),this.players}getBoard(){let t=t=>t%2==0,e=t=>Array(10).fill(0).map((e,i)=>{let s=10*t+i;return{cellPosition:s,players:this.players.filter(t=>t.position===s)}});return Array(10).fill(0).map((t,e)=>e).map(i=>t(i)?e(i):e(i).reverse()).reverse().flat()}getState(){let t=this.gameOver?this.getCurrentPlayer():null;return{board:this.getBoard(),players:this.players,winner:t}}playMove(t){return this.movePlayer(t),this.gameOver||this.updateCurrentPlayer(),this.getState()}constructor(){this.players=[{name:"Player 1",position:-1,color:"red",isPlaying:!0},{name:"Player 2",position:-1,color:"blue",isPlaying:!1}],this.gameOver=!1,this.porters=[{start:3,end:55},{start:11,end:49},{start:13,end:54},{start:21,end:57},{start:27,end:9},{start:36,end:2},{start:40,end:78},{start:46,end:15},{start:53,end:87},{start:74,end:31},{start:93,end:70},{start:95,end:41}]}}var n=i(5047),l=i.n(n);let o={src:"/snakes-and-ladders//_next/static/media/board.182ea8bc.jpg"};var h={canvas:"index-module_canvas__H2w7d"};!function(t,e){void 0===e&&(e={});var i=e.insertAt;if(t&&"undefined"!=typeof document){var s=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===i&&s.firstChild?s.insertBefore(r,s.firstChild):s.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}}(".index-module_canvas__H2w7d {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  pointer-events: none;\n}");var c=function(t,e){return Math.random()*(e-t)+t},d=function(){function t(t,e,i,s,r,a,n,l,o){void 0===i&&(i=0),void 0===r&&(r=["circle","square"]),void 0===a&&(a=12),void 0===n&&(n=30),void 0===l&&(l=1),void 0===o&&(o=.004);var h,d=window.devicePixelRatio>1?2:1;this.x=t*window.innerWidth*d,this.y=e*window.innerHeight*d,this.width=a,this.height=a,this.theta=Math.PI/180*c(i-n,i+n),this.radius=c(20*l,70*l),this.vx=this.radius*Math.cos(this.theta),this.vy=this.radius*Math.sin(this.theta),this.xFriction=.9,this.yFriction=.87,this.gravity=c(.5,.6),this.opacity=1,this.opacityDelta=o,this.rotate=c(0,360),this.widthDelta=c(0,360),this.heightDelta=c(0,360),this.rotateDelta=c(-1,1),this.colors=s,this.color={r:parseInt((h=this.colors[Math.floor(c(0,this.colors.length))]).slice(1,3),16),g:parseInt(h.slice(3,5),16),b:parseInt(h.slice(5,7),16)},this.shapes=r,this.shape=this.shapes[Math.floor(c(0,this.shapes.length))],this.swingOffset=c(0,2*Math.PI),this.swingSpeed=.05*Math.random()+.01,this.swingAmplitude=c(.1,.2)}return t.prototype.update=function(){this.vx*=this.xFriction,this.vy*=this.yFriction,this.vy+=this.gravity,this.vx+=Math.sin(this.swingOffset)*this.swingAmplitude,this.x+=this.vx,this.y+=this.vy,this.opacity-=this.opacityDelta,this.widthDelta+=2,this.heightDelta+=2,this.rotate+=this.rotateDelta,this.swingOffset+=this.swingSpeed},t.prototype.drawSquare=function(t){t.fillRect(this.x,this.y,this.width*Math.cos(Math.PI/180*this.widthDelta),this.height*Math.sin(Math.PI/180*this.heightDelta))},t.prototype.drawCircle=function(t){t.beginPath(),t.ellipse(this.x,this.y,Math.abs(this.width*Math.cos(Math.PI/180*this.widthDelta))/2,Math.abs(this.height*Math.sin(Math.PI/180*this.heightDelta))/2,0,0,2*Math.PI),t.fill(),t.closePath()},t.prototype.draw=function(t){var e=1.3*this.width,i=1.3*this.height;t.translate(this.x+e,this.y+i),t.rotate(Math.PI/100*this.rotate),t.translate(-(this.x+e),-(this.y+i)),t.fillStyle="rgba(".concat(this.color.r,", ").concat(this.color.g,", ").concat(this.color.b,", ").concat(this.opacity,")"),"square"===this.shape&&this.drawSquare(t),"circle"===this.shape&&this.drawCircle(t),t.resetTransform()},t}();function u(t){var e=t.mode,i=void 0===e?"boom":e,s=t.particleCount,a=void 0===s?30:s,n=t.shapeSize,l=void 0===n?12:n,o=t.colors,u=void 0===o?["#ff577f","#ff884b","#ffd384","#fff9b0"]:o,f="boom"===t.mode||void 0===t.mode?t:{effectInterval:1,effectCount:1/0},p=f.x,y=void 0===p?.5:p,v=f.y,x=void 0===v?.5:v,g=f.deg,m=void 0===g?270:g,w=f.spreadDeg,b=void 0===w?30:w,j=f.effectInterval,P=void 0===j?3e3:j,M=f.effectCount,C=void 0===M?1:M,N=f.launchSpeed,_=void 0===N?1:N,k=("fall"===t.mode?t:{}).fadeOutHeight,D=void 0===k?.8:k,I=(0,r.useRef)(null),O=(0,r.useRef)(),S=(0,r.useRef)([]),F=(0,r.useRef)(0),R=(0,r.useRef)(0),A=(0,r.useCallback)(function(){var t=I.current,e=null==t?void 0:t.getContext("2d");if(t&&e){O.current=e;var i=window.devicePixelRatio>1?2:1,s=window.innerWidth,r=window.innerHeight;t.style.width="".concat(s,"px"),t.style.height="".concat(r,"px"),t.width=s*i,t.height=r*i,e.scale(i,i)}},[]),q=(0,r.useCallback)(function(){for(var t="fall"===i,e=t?a/30:a,s=t?c(0,1):y,r=t?c(-.1,-.3):x,n=t?270:m,o=t?0:b,h=t?0:_,f=t?3.4/D/window.innerHeight:.004,p=0;p<e;p+=1)S.current.push(new d(s,r,n,u,["circle","square"],l,o,h,f))},[i,y,x,m,u,l,b,_,a,D]),z=(0,r.useCallback)(function(){if(O.current){var t,e,i,s=Date.now(),r=Date.now()-P,a=function(){var n=I.current;if(O.current&&n&&(F.current=requestAnimationFrame(a),e=(t=Date.now())-s,i=t-r,!(e<16.666666666666668))){O.current.clearRect(0,0,n.width,n.height),i>P&&R.current<C&&(q(),r=t-i%P,R.current+=1);for(var l=S.current,o=l.length-1;o>=0;o-=1){var h=l[o];h.update(),h.draw(O.current);var c=(null==n?void 0:n.height)||0;(h.opacity<=0||h.y>c)&&l.splice(l.indexOf(h),1)}s=t-e%16.666666666666668,R.current>=C&&0===l.length&&cancelAnimationFrame(F.current)}};F.current=requestAnimationFrame(a)}},[P,C,q]);return(0,r.useEffect)(function(){return A(),z(),function(){F.current&&cancelAnimationFrame(F.current)}},[A,z]),(0,r.useEffect)(function(){R.current=0},[C]),r.createElement("canvas",{className:h.canvas,ref:I})}let f=t=>{let{onRoll:e,randomGenerator:i}=t,[a,n]=(0,r.useState)(1),l=()=>Math.floor(6*i())+1;return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-around",style:{width:"200px",height:"100px"},children:[(0,s.jsx)("h2",{children:"Click to Roll Dice"}),(0,s.jsx)("div",{style:{width:"50px",height:"50px",backgroundColor:"antiquewhite",borderRadius:"15%",display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer"},onClick:()=>{let t=l();n(t),e(t)},children:a})]})},p=t=>{let{players:e,cellPosition:i}=t;return(0,s.jsx)("div",{id:i,className:"".concat(l().cell," flex justify-around items-center"),children:e.map((t,e)=>(0,s.jsx)(v,{player:t,size:10},e))},i)},y=t=>{let{board:e}=t;return(0,s.jsx)("div",{className:"grid grid-cols-10 gap-x-0 gap-y-0] ".concat(l().board," -z-10"),style:{"background-image":"url(".concat(o.src,")")},children:e.map(t=>{let{players:e,cellPosition:i}=t;return(0,s.jsx)(p,{players:e,cellPosition:i},i)})})},v=t=>{let{player:e,size:i}=t,r=e.isPlaying?"animate-ping":"";return(0,s.jsxs)("span",{className:"relative flex",children:[(0,s.jsx)("span",{className:"absolute inline-flex ".concat(r," opacity-75"),style:{backgroundColor:e.color,width:i,height:i,borderRadius:"50%"}}),(0,s.jsx)("span",{className:"opacity-80",style:{backgroundColor:e.color,width:i,height:i,borderRadius:"50%"}})]})},x=t=>{let{players:e}=t;return(0,s.jsxs)("div",{className:"flex flex-col items-center w-full",children:[(0,s.jsx)("h1",{children:"Players"}),(0,s.jsx)("div",{className:"flex justify-around w-full",children:e.map((t,e)=>(0,s.jsxs)("div",{className:"flex flex-col items-center justify-around h-24",children:[(0,s.jsx)("h4",{children:t.name}),(0,s.jsx)(v,{player:t,size:30})]},e))})]})},g=t=>{let{winner:e}=t;return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center w-full h-1/3 z-10 absolute",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:[(0,s.jsxs)("h1",{className:"text-4xl text-white mb-4",children:["Winner: ",e.name]}),(0,s.jsx)(v,{player:e,size:50}),(0,s.jsx)(u,{mode:"fall",particleCount:500,colors:["#ff577f","#ff884b","#ffd384","#fff9b0"]})]})},m=t=>{let{coreSAL:e}=t,[i,a]=(0,r.useState)(e.getState());return(0,s.jsxs)("div",{className:"flex justify-around",style:{margin:"30px"},children:[i.winner&&(0,s.jsx)(g,{winner:i.winner}),(0,s.jsx)(y,{board:i.board}),(0,s.jsxs)("div",{className:"flex flex-col items-center justify-around size-1/3",children:[(0,s.jsx)(x,{players:i.players}),(0,s.jsx)(f,{onRoll:t=>{a(e.playMove(t))},randomGenerator:Math.random})]})]})};function w(){let t=new a;return(0,s.jsx)(m,{coreSAL:t})}},5047:t=>{t.exports={cell:"styles_cell__1WzH_",board:"styles_board__9sHka"}}},t=>{var e=e=>t(t.s=e);t.O(0,[64,441,517,358],()=>e(1311)),_N_E=t.O()}]);